(this["webpackJsonpcaribu-web-activity"]=this["webpackJsonpcaribu-web-activity"]||[]).push([[0],{13:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(13),n(1)),u=n(2),l=n.n(u),s=function(t,e){var n,a;if(!t||!e)return{};var r,o,c,i,u=0,l=0;if(e.changedTouches)console.log("#1"),r=null===(c=e.changedTouches[0])||void 0===c?void 0:c.pageX,o=null===(i=e.changedTouches[0])||void 0===i?void 0:i.pageY;else if((null===(n=e.nativeEvent)||void 0===n?void 0:n.pageX)&&(null===(a=e.nativeEvent)||void 0===a?void 0:a.pageY)){var s,d;r=null===(s=e.nativeEvent)||void 0===s?void 0:s.pageX,o=null===(d=e.nativeEvent)||void 0===d?void 0:d.pageY}else console.log("#3"),r=e.pageX,o=e.pageY;return{x:r-u,y:o-l}},d=function(t,e,n,a,r){if(t){var o=t.getContext("2d");console.log("context"),console.log(o),o&&(o.strokeStyle=a||"#FF0000",o.lineJoin="round",o.lineWidth=r||5,o.beginPath(),o.moveTo(e.x,e.y),o.lineTo(n.x,n.y),o.closePath(),o.stroke())}},x=function(t,e,n,a,r){if(t){var o=t.getContext("2d");o&&(o.strokeStyle=a||"#FF0000",o.shadowBlur=r||10,o.shadowColor="rgb(0,0,0)",o.lineCap="round",o.lineJoin="round",o.lineWidth=r||5,o.beginPath(),o.moveTo(e.x,e.y),o.lineTo(n.x,n.y),o.closePath(),o.stroke())}};function f(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1];return{draw:function(t,e){if(n){var a=s(t,e);!function(t,e,n){var a,r,o=t.getContext("2d");o.lineCap="round",o.lineJoin="round";for(var c=-10;c<10;c+=4)for(var i=-10;i<10;i+=4)Math.random()>.5&&(o.fillStyle=["red","orange","yellow","green","light-blue","blue","purple"][(a=0,r=6,Math.floor(Math.random()*(r-a+1))+a)],o.fillRect(e+c,n+i,4,4))}(t,a.x,a.y)}},exitDraw:function(){r(!1)},startDraw:function(t,e){s(t,e);r(!0)}}}var v=n(4);function b(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(null),c=Object(i.a)(o,2),u=c[0],l=c[1],d=Object(a.useState)([]),x=Object(i.a)(d,2),f=x[0],b=x[1];function h(t,e){return{x:t.x+(e.x-t.x)/2,y:t.y+(e.y-t.y)/2}}return{draw:function(t,e){if(n){var a=s(t,e);if(u&&a){var r=t.getContext("2d");f.push({x:a.x,y:a.y});var o=f[0],c=f[1];r.beginPath(),r.moveTo(o.x,o.y);for(var i=1,l=f.length;i<l;i++){var d=h(o,c);r.quadraticCurveTo(o.x,o.y,d.x,d.y),o=f[i],c=f[i+1]}r.lineTo(o.x,o.y),r.stroke()}}},exitDraw:function(t){(r(!1),f.length=0,t)&&t.getContext("2d").restore()},startDraw:function(t,e){var n=s(t,e);if(n&&n.x&&n.y){var a=t.getContext("2d");a.save(),r(!0),l(n),a.lineWidth=25,a.lineCap="round",a.lineJoin="round",a.strokeStyle=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");return e.width=e.height=25,n.fillStyle="red",n.beginPath(),n.arc(10,10,10,0,2*Math.PI,!1),n.closePath(),n.fill(),t.getContext("2d").createPattern(e,"repeat")}(t),b((function(t){return[].concat(Object(v.a)(t),[{x:n.x,y:n.y}])}))}}}}function h(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)([]),c=Object(i.a)(o,2),u=c[0],l=c[1],d=Object(a.useState)(null),x=Object(i.a)(d,2),f=x[0],v=x[1],b=Object(a.useState)(null),h=Object(i.a)(b,2),j=h[0],g=h[1];return{draw:function(t,e){if(n){var a=t.getContext("2d"),r=s(t,e);a.lineCap="round",a.lineJoin="round",a.lineWidth=33;var o=function(t,e,n){var a,r,o;if(t/=360,n/=100,0===(e/=100))a=n,r=n,o=n;else{var c=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},i=n<.5?n*(1+e):n+e-n*e,u=2*n-i;a=c(u,i,t+1/3),r=c(u,i,t),o=c(u,i,t-1/3)}return[Math.round(255*a),Math.round(255*r),Math.round(255*o)]}(u,100,50);a.strokeStyle="rgb(".concat(o[0],", ").concat(o[1],", ").concat(o[2],")"),a.beginPath(),a.moveTo(f,j),a.lineTo(r.x,r.y),a.stroke(),l(u+1),u>=360&&l(1),v(r.x),g(r.y)}},exitDraw:function(){r(!1)},startDraw:function(t,e){var n=s(t,e);r(!0),v(n.x),g(n.y)}}}var j=n(3),g=function(t){var e=window.comingFromMobile,n=r.a.useRef(null),o=r.a.useState("simplePencil"),c=Object(i.a)(o,2),u=c[0],g=c[1],w=f(),y=b(),C=function(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)([]),c=Object(i.a)(o,2),u=c[0],l=c[1];return{draw:function(t,e){if(n){var a=t.getContext("2d"),r=s(t,e);l((function(t){return[].concat(Object(v.a)(t),[{x:r.x,y:r.y}])}));var o=u[u.length-2],c=u[u.length-1];a.beginPath(),o&&a.moveTo(o.x,o.y),c&&a.lineTo(c.x,c.y),a.stroke();for(var i=0,d=u.length;i<d;i++){var x=u[i].x-u[u.length-1].x,f=u[i].y-u[u.length-1].y,b=x*x+f*f;b<2e3&&Math.random()>b/2e3&&(a.beginPath(),a.strokeStyle="rgba(0,0,0,0.3)",a.moveTo(u[u.length-1].x+.5*x,u[u.length-1].y+.5*f),a.lineTo(u[u.length-1].x-.5*x,u[u.length-1].y-.5*f),a.stroke())}}},exitDraw:function(t){r(!1),t&&t.getContext("2d").restore()},startDraw:function(t,e){t.getContext("2d").save();var n=s(t,e);l([]),r(!0),l((function(t){return[].concat(Object(v.a)(t),[{x:n.x,y:n.y}])}))}}}(),O=function(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(null),c=Object(i.a)(o,2),u=c[0],l=c[1],d=Object(a.useState)([]),x=Object(i.a)(d,2),f=x[0],b=x[1];function h(t,e){return{x:t.x+(e.x-t.x)/2,y:t.y+(e.y-t.y)/2}}return{draw:function(t,e){if(n){var a=s(t,e);if(u&&a){var r=t.getContext("2d");f.push({x:a.x,y:a.y}),r.clearRect(0,0,r.canvas.width,r.canvas.height);var o=f[0],c=f[1];r.beginPath(),r.moveTo(o.x,o.y);for(var i=1,l=f.length;i<l;i++){var d=h(o,c);r.quadraticCurveTo(o.x,o.y,d.x,d.y),o=f[i],c=f[i+1]}r.lineTo(o.x,o.y),r.stroke()}}},exitDraw:function(t){r(!1),f.length=0,t&&t.getContext("2d").restore()},startDraw:function(t,e){var n=s(t,e);if(n&&n.x&&n.y){var a=t.getContext("2d");a.save(),r(!0),l(n),a.lineWidth=25,a.lineCap="round",a.lineJoin="round";var o=new Image;o.onload=function(){a.strokeStyle=function(t,e){return t.getContext("2d").createPattern(e,"repeat")}(t,o)},o.src="https://i.imgur.com/huy6X9t.png",b((function(t){return[].concat(Object(v.a)(t),[{x:n.x,y:n.y}])}))}}}}(),m=h(),p=function(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(null),c=Object(i.a)(o,2),u=c[0],l=c[1];return{draw:function(t,e){if(n){var a=s(t,e);u&&a&&(x(t,u,a,null,null),l(a))}},exitDraw:function(t){r(!1),t&&t.getContext("2d").restore()},startDraw:function(t,e){var n=s(t,e);if(n&&n.x&&n.y){t.getContext("2d").save();var a={x:n.x+.1,y:n.y+.1};r(!0),l(n),x(t,n,a,null,null)}}}}(),P=function(){var t=Object(a.useState)(null),e=Object(i.a)(t,2),n=(e[0],e[1],Object(a.useState)(!1)),r=Object(i.a)(n,2),o=r[0],c=r[1],u=Object(a.useState)([]),l=Object(i.a)(u,2),d=l[0],x=l[1],f=Object(a.useState)(15),b=Object(i.a)(f,2),h=(b[0],b[1],function(t,e,n){var a=t.getContext("2d");a.save(),a.translate(e,n),a.beginPath(),a.rotate(1*Math.PI/10);for(var r=5;r--;)a.lineTo(0,15),a.translate(0,15),a.rotate(2*Math.PI/10),a.lineTo(0,-15),a.translate(0,-15),a.rotate(-6*Math.PI/10);a.lineTo(0,15),a.closePath(),a.stroke(),a.restore()});return{draw:function(t,e){if(o){var n=s(t,e);x((function(t){return[].concat(Object(v.a)(t),[{x:n.x,y:n.y}])})),t.getContext("2d");for(var a=0;a<d.length;a++)h(t,d[a].x,d[a].y)}},exitDraw:function(){c(!1),d.length=0},startDraw:function(t,e){var n=s(t,e);c(!0),x((function(t){return[].concat(Object(v.a)(t),[{x:n.x,y:n.y}])}))}}}(),S=function(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(null),c=Object(i.a)(o,2),u=c[0],l=c[1];return{draw:function(t,e){if(n){var a=s(t,e);u&&a&&(d(t,u,a,null,null),l(a))}},exitDraw:function(){r(!1)},startDraw:function(t,e){var n=s(t,e);if(console.log(n),n&&n.x&&n.y){var a={x:n.x+.1,y:n.y+.1};r(!0),l(n),d(t,n,a,null,null)}}}}(),D=function(){var t=Object(a.useState)(null),e=Object(i.a)(t,2),n=(e[0],e[1],Object(a.useState)(!1)),r=Object(i.a)(n,2),o=r[0],c=r[1],u=Object(a.useState)(50),l=Object(i.a)(u,2),d=l[0],x=(l[1],function(t,e){return Math.floor(Math.random()*(e-t+1))+t});return{draw:function(t,e){if(o)for(var n=s(t,e),a=d;a--;){var r=t.getContext("2d"),c=x(-20,20),i=x(-20,20);r.fillRect(n.x+c,n.y+i,1,1)}},exitDraw:function(){c(!1)},startDraw:function(t,e){var n=s(t,e);c(!0);var a=t.getContext("2d");a.lineWidth=10,a.lineCap="round",a.lineJoin="round",a.moveTo(n.x,n.y)}}}(),T=function(t){"simplePencil"===l.a.camelCase(u)?S.startDraw(n.current,t):"shadows"===l.a.camelCase(u)?p.startDraw(n.current,t):"coloredPixels"===l.a.camelCase(u)?w.startDraw(n.current,t):"fur"===l.a.camelCase(u)?C.startDraw(n.current,t):"rainbow"===l.a.camelCase(u)?m.startDraw(n.current,t):"shapes"===l.a.camelCase(u)?P.startDraw(n.current,t):"spray"===l.a.camelCase(u)?D.startDraw(n.current,t):"dotPattern"===l.a.camelCase(u)?y.startDraw(n.current,t):"imagePattern"===l.a.camelCase(u)&&O.startDraw(n.current,t)},k=function(t){"simplePencil"===l.a.camelCase(u)?S.draw(n.current,t):"shadows"===l.a.camelCase(u)?p.draw(n.current,t):"coloredPixels"===l.a.camelCase(u)?w.draw(n.current,t):"fur"===l.a.camelCase(u)?C.draw(n.current,t):"rainbow"===l.a.camelCase(u)?m.draw(n.current,t):"shapes"===l.a.camelCase(u)?P.draw(n.current,t):"spray"===l.a.camelCase(u)?D.draw(n.current,t):"dotPattern"===l.a.camelCase(u)?y.draw(n.current,t):"imagePattern"===l.a.camelCase(u)&&O.draw(n.current,t)},M=function(t){"simplePencil"===l.a.camelCase(u)?S.exitDraw():"shadows"===l.a.camelCase(u)?p.exitDraw(n.current):"coloredPixels"===l.a.camelCase(u)?w.exitDraw():"fur"===l.a.camelCase(u)?C.exitDraw():"rainbow"===l.a.camelCase(u)?m.exitDraw():"shapes"===l.a.camelCase(u)?P.exitDraw():"spray"===l.a.camelCase(u)?D.exitDraw():"dotPattern"===l.a.camelCase(u)?y.exitDraw(n.current):"imagePattern"===l.a.camelCase(u)&&O.exitDraw(n.current)};return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("canvas",{ref:function(t){n.current||(n.current=t)},height:400,width:400,style:{backgroundColor:"yellow"},onTouchStart:function(t){T(t)},onTouchMove:function(t){k(t)},onTouchEnd:function(t){M()},onMouseDown:function(t){T(t)},onMouseMove:function(t){k(t)},onMouseUp:function(t){M()}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){g("simplePencil")},children:"Simple Pencil"}),Object(j.jsx)("button",{onClick:function(){g("coloredPixels")},children:"Colored Pixels"}),Object(j.jsx)("button",{onClick:function(){g("fur")},children:"Fur"}),Object(j.jsx)("button",{onClick:function(){g("shadows")},children:"Shadows"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){g("shapes")},children:"Shapes"}),Object(j.jsx)("button",{onClick:function(){g("spray")},children:"Spray"}),Object(j.jsx)("button",{onClick:function(){g("dotPattern")},children:"Dot Pattern"}),Object(j.jsx)("button",{onClick:function(){g("imagePattern")},children:"Image Pattern"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){var t;(null===(t=n.current)||void 0===t?void 0:t.getContext("2d")).clearRect(0,0,400,400)},children:"CLEAR"}),Object(j.jsx)("button",{onClick:function(){e?window.ReactNativeWebView.postMessage("React Native Mobile Code to save"):window.alert("React Web Code to save")},children:"SAVE"})]}),Object(j.jsxs)("h3",{children:["window.comingFromMobile: ",e?"true":"false"]}),Object(j.jsxs)("h3",{children:["activityId: ",e?window.activityId:t.activityId]})]})};var w=function(){return Object(j.jsx)(g,{})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),o(t),c(t)}))};document.getElementById("root").hasChildNodes()?c.a.hydrate(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")):c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),y()}},[[17,1,2]]]);
//# sourceMappingURL=main.aa4cf5b3.chunk.js.map